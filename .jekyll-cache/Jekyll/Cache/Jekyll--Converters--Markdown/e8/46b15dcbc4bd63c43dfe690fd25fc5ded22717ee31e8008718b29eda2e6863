I"}<h4 id="urlencodeÊñ∞">Urlencode(Êñ∞)</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-(NSString *)urlEncodeStr:(NSString *)orUrl {
    NSString *charactersToEscape = @"?!@#$^&amp;%*+,:;='\"`&lt;&gt;()[]{}/\\| ";
    NSCharacterSet *allowedCharacters = [[NSCharacterSet characterSetWithCharactersInString:charactersToEscape] invertedSet];
    NSString *encodedUrl = [orUrl stringByAddingPercentEncodingWithAllowedCharacters:allowedCharacters];
    return encodedUrl;;
}
</code></pre></div></div>
<h4 id="urldecodeÊñ∞">Urldecode(Êñ∞)</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-(NSString *)urlDecodeStr:(NSString *)orUrl {
    //ÊñπÂºè 1
    NSString *decodedUrl = [orUrl stringByRemovingPercentEncoding];
    //ÊñπÂºè 2
    //NSString *decodedUrl = (__bridge_transfer NSString *)CFURLCreateStringByReplacingPercentEscapes(NULL, (__bridge CFStringRef)orUrl, CFSTR(""));
    return decodedUrl;;
}
</code></pre></div></div>

<h4 id="‰ªéurl‰∏≠Ëß£ÊûêÂèÇÊï∞"><code class="language-plaintext highlighter-rouge">‰ªéurl‰∏≠Ëß£ÊûêÂèÇÊï∞</code></h4>

<p>dp1.game.163.com/open/tomandjerrychaseasia?rees_id=1&amp;game_id=1&amp;game_mode=0</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NSString *reesid = [self getParamByName:@"rees_id" URLString:url];  
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Ëé∑ÂèñurlÂêéÊãºÊé•ÁöÑÂèÇÊï∞
- (NSString *)getParamByName:(NSString *)name URLString:(NSString *)url
{
    NSError *error;
    NSString *regTags=[[NSString alloc] initWithFormat:@"(^|&amp;|\\?)+%@=+([^&amp;]*)(&amp;|$)", name];
    NSRegularExpression *regex = [NSRegularExpression regularExpressionWithPattern:regTags
                                                                           options:NSRegularExpressionCaseInsensitive
                                                                             error:&amp;error];
     
    // ÊâßË°åÂåπÈÖçÁöÑËøáÁ®ã
    NSArray *matches = [regex matchesInString:url
                                      options:0
                                        range:NSMakeRange(0, [url length])];
    for (NSTextCheckingResult *match in matches) {
        NSString *tagValue = [url substringWithRange:[match rangeAtIndex:2]];  // ÂàÜÁªÑ2ÊâÄÂØπÂ∫îÁöÑ‰∏≤
        return tagValue;
    }
    return @"";
}
</code></pre></div></div>

<hr />

<h4 id="urlencodeÊóß">Urlencode(Êóß)</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>+(NSString*)encodeString:(NSString*)unencodedString {

// CharactersToBeEscaped = @":/?&amp;=;+!@#$()~',*";

// CharactersToLeaveUnescaped = @"[].";

NSString *encodedString = (NSString *)

CFBridgingRelease(CFURLCreateStringByAddingPercentEscapes(kCFAllocatorDefault,

(CFStringRef)unencodedString,

NULL,

(CFStringRef)@"!*'();:@&amp;=+$,/?%#[]",

kCFStringEncodingUTF8));

return encodedString;

}
</code></pre></div></div>

<h4 id="urldecodeÊóß">Urldecode(Êóß)</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-(NSString *)decodeString:(NSString*)encodedString {

//NSString *decodedString = [encodedString stringByReplacingPercentEscapesUsingEncoding:NSUTF8StringEncoding ];

NSString *decodedString  = (__bridge_transfer NSString *)CFURLCreateStringByReplacingPercentEscapesUsingEncoding(NULL,

(__bridge CFStringRef)encodedString,

CFSTR(""),

CFStringConvertNSStringEncodingToEncoding(NSUTF8StringEncoding));

return decodedString;
</code></pre></div></div>
:ET